
–†–∞–∑–±–æ—Ä –ø—Ä–æ–±–ª–µ–º ‚Äî –ª–æ–≥–∏ + –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
===============================================

1. –ß—Ç–æ –Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ  
   ‚Ä¢ 401 –ø–æ `/api/progress/unified` ‚Äî –∑–∞–ø—Ä–æ—Å—ã —É–ª–µ—Ç–∞—é—Ç –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ Supabase-cookie —É—Å–ø–µ–≤–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è. –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–µ (—Ä–µ—Ñ–µ—Ç—á) —É–∂–µ 200.  
     ‚áí –ù—É–∂–Ω–æ –ª–∏–±–æ:
     - –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –Ω–µ –¥–µ—Ä–≥–∞—Ç—å endpoint, –ø–æ–∫–∞ `session.user` –Ω–µ –≥–æ—Ç–æ–≤;  
     - –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤–º–µ—Å—Ç–æ 401 –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å ¬´–ø—É—Å—Ç–æ–π¬ª –ø—Ä–æ–≥—Ä–µ—Å—Å `{ overallProgress: 0, ‚Ä¶ }`.  
   ‚Ä¢ 500 (Module Not Found) –¥–ª—è `src/app/(marketing)/(landing-pages)/[...slug]/page.tsx` –∏ *.css.mjs.map ‚Äì Next –ø—ã—Ç–∞–µ—Ç—Å—è —Å–æ–±—Ä–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç, –Ω–æ —Ñ–∞–π–ª–∞ –Ω–µ—Ç.  
     ‚áí –ù—É–∂–Ω–æ –ø–æ–ª–æ–∂–∏—Ç—å —Ç—É–¥–∞ –∑–∞–≥–ª—É—à–∫—É (¬´–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ¬ª) –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ `(landing-pages)` –∏–∑ App Router.  
   ‚Ä¢ 400 –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è ‚Äì –æ–±—ä–µ–∫—Ç —É–¥–∞–ª—ë–Ω –∏–∑ Supabase Storage. –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ.  
   ‚Ä¢ –í–æ—Ä–∫–µ—Ä—ã webpack ¬´Serializing big strings (135 KiB)‚Ä¶¬ª ‚Äì –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –∫—ç—à–µ, –º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å.  

2. –ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—Å—ë –µ—â—ë –∫–∞–∂–µ—Ç—Å—è ¬´–¥–≤–∞–∂–¥—ã¬ª  
   ‚Ä¢ –°–ø—Ä–∞–≤–∞-–≤–≤–µ—Ä—Ö—É ‚Äî –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `CurrentStreak` üî• –∏ `UserXp` ‚ö°. –≠—Ç–æ **–Ω–µ –ø–æ–ª–æ—Å–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞**, –∞ –æ—Ç–¥–µ–ª—å–Ω—ã–π HUD –¥–ª—è streak + XP (–æ—Å—Ç–∞–≤–ª—è–µ–º).  
   ‚Ä¢ –ü–æ—Å–µ—Ä–µ–¥–∏–Ω–µ —á—ë—Ä–Ω—ã–π –±–ª–æ–∫ —Å –ø–æ–ª–æ—Å–æ–π ‚Äî —ç—Ç–æ **–µ—â—ë –æ–¥–∏–Ω –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä**, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–µ–∑–∂–∞–µ—Ç –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–æ–ø—Ä–æ—Å–∞ (`QuestionPageHeaderMiddle ‚Üí SinglePageProgress`).  
     –û–Ω –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –¢–û–õ–¨–ö–û –≤–Ω—É—Ç—Ä–∏ —É—Ä–æ–∫–æ–≤ study-path, –Ω–æ —Å–µ–π—á–∞—Å —É—Å–ª–æ–≤–∏–µ `studyPathMetadata && question.questionType === 'SIMPLE_MULTIPLE_CHOICE'` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∏ –Ω–∞ –æ–±—ã—á–Ω–æ–º ¬´—É—Ä–æ–∫–µ —É—Ä–æ–≤–Ω—è¬ª, –ø–æ—ç—Ç–æ–º—É –ø–æ–ª—É—á–∞–µ–º –¥—É–±–ª–∏–∫–∞—Ç –ø–ª—é—Å –ª–∏—à–Ω—é—é –≤—ã—Å–æ—Ç—É (—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ `h-10` ‚âà 40 px, –Ω–æ –Ω–∞ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–∞–∂–µ—Ç—Å—è ¬´–ø–æ–ª-—ç–∫—Ä–∞–Ω–∞¬ª).

–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å
-------------

–®–∞–≥ 1 ‚Äì –∏–∑–±–∞–≤–ª—è–µ–º—Å—è –æ—Ç –ª–∏—à–Ω–µ–≥–æ Progress –≤ header-–≤–æ–ø—Ä–æ—Å–∞  
a. –í `src/components/app/layout/question-single/page-header-middle.tsx` –∑–∞–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É:  
   - –µ—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –ø—Ä–∏—à—ë–ª **–∏–∑ levels**, `SinglePageProgress` –ù–ï —Ä–µ–Ω–¥–µ—Ä–∏–º.  
   –ú–æ–∂–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—Ä–∏–∑–Ω–∞–∫ —Ç–∞–∫: `if (question.tags?.some(t=>t.tagId?.startsWith('level-'))) { /*skip*/ }`.

–®–∞–≥ 2 ‚Äì –ø–æ–¥—á–∏—Å—Ç–∏—Ç—å API-401  
‚Ä¢ –í `src/app/api/progress/unified/route.ts` (–∏–ª–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–º action) –≤–µ—Ä–Ω—É—Ç—å 200 c –Ω—É–ª–µ–≤—ã–º –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º, –µ—Å–ª–∏ `getUser()` –Ω–µ –Ω–∞—à—ë–ª —Å–µ—Å—Å–∏—é.  
‚Ä¢ –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ –≤ —Ö—É–∫–µ `useUnifiedProgress` –ø—Ä–∏ `status !== 200` –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å fallback-–¥–∞–Ω–Ω—ã–µ –∏ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å Spinner.

–®–∞–≥ 3 ‚Äì –∑–∞–≥–ª—É—à–∫–∞ –¥–ª—è ¬´–º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö¬ª —Å—Ç—Ä–∞–Ω–∏—Ü  
‚Ä¢ –°–æ–∑–¥–∞—Ç—å `src/app/(marketing)/(landing-pages)/[...slug]/page.tsx`:

```tsx
export default function LandingPlaceholder() {
  return (
    <div className="flex items-center justify-center min-h-screen">
      <div className="text-center space-y-2">
        <h2>–†–∞–∑–¥–µ–ª –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ</h2>
        <p>–°–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è –±–∏–∑–Ω–µ—Å-–∏—Å—Ç–æ—Ä–∏–∏ –∏ –∫–µ–π—Å—ã</p>
      </div>
    </div>
  );
}
```

–®–∞–≥ 4 ‚Äì –ø—Ä–æ–≤–µ—Ä–∏—Ç—å UX –ø–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫  
‚Ä¢ –£—Ä–æ–≤–Ω–∏: –∫–ª–∏–∫ –ø–æ –ø–µ—Ä–≤–æ–º—É —É—Ä–æ–≤–Ω—é –¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å; –∫–æ–Ω—Ç–µ–Ω—Ç –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è, –¥—É–±–ª–∏–∫–∞—Ç progress –∏—Å—á–µ–∑.  
‚Ä¢ –í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö (Dashboard, Settings) –≤–∏–¥–µ–Ω —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä + HUD XP/Streak.  
‚Ä¢ –í –ª–æ–≥–∞—Ö –Ω–µ—Ç 401/500 –ø–æ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–º –≤—ã—à–µ –º–∞—Ä—à—Ä—É—Ç–∞–º.

–ï—Å–ª–∏ –≤—Å—ë –æ–∫ ‚Äî –¥–µ–ª–∞–µ–º –∫–æ–º–º–∏—Ç ¬´–≠—Ç–∞–ø 9 –∑–∞–≤–µ—Ä—à–µ–Ω¬ª –∏ –ø—É—à–∏–º.