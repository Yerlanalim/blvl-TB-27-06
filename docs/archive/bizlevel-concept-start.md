# Концепция трансформации BizLevel → BizLevel v3.0

## Обновленное видение проекта

**BizLevel** — это полностью независимая платформа для обучения бизнесу, созданная на основе форка open-source репозитория BizLevel. Мы полностью заменяем программистскую тематику на бизнес-обучение, сохраняя проверенную техническую архитектуру.

## Ключевые изменения в v3.0

### 1. Полная замена бренда
- ❌ Никаких режимов и условий `isBizLevel`
- ✅ Полная замена BizLevel → BizLevel
- ✅ Чистый код без программистских элементов

### 2. Vimeo для вертикальных видео
- Использование Vimeo вместо YouTube
- Поддержка вертикального формата (9:16)
- Полный контроль над воспроизведением
- Отсутствие переходов в сторонние приложения

### 3. Безопасное удаление функционала
- Заглушки вместо полного удаления
- Сохранение структуры для стабильности
- Поэтапное отключение ненужных модулей

---

## ЭТАП 0: Подготовка окружения (2-3 часа)

### Задача 0.1: Создание чистого форка
```bash
# Клонировать репозиторий
git clone [techblitz-repo] bizlevel
cd bizlevel

# Создать новую ветку для всех изменений
git checkout -b bizlevel-transformation

# Удалить связь с оригинальным репо
git remote remove origin
git remote add origin [your-bizlevel-repo]
```

### Задача 0.2: Настройка окружения
```bash
# Скопировать и обновить .env.example → .env.local
cp .env.example .env.local

# Обновить переменные:
NEXT_PUBLIC_APP_NAME=BizLevel
NEXT_PUBLIC_DOMAIN=bizlevel.kz
```

### Задача 0.3: Первичный бэкап
```bash
# Создать полный бэкап перед изменениями
git add .
git commit -m "Initial fork backup before BizLevel transformation"
git tag backup-v1.0
```

---

## ЭТАП 1: Глобальная замена бренда (1 день)

### Задача 1.1: Замена текстовых упоминаний
**Промпт для Cursor:**
```
Выполни глобальный поиск и замену во всех файлах проекта:
1. "BizLevel" → "BizLevel" (учитывай регистр)
2. "techblitz" → "bizlevel" (в URL, email, переменных)
3. "TECHBLITZ" → "BIZLEVEL" (в константах)
4. "team@bizlevel.kz" → "team@bizlevel.kz"
5. "techblitz.dev" → "bizlevel.kz"

ВАЖНО: 
- Проверяй каждое вхождение перед заменой
- НЕ меняй в node_modules и .git
- Сохрани список всех измененных файлов
```

**Файлы для особого внимания:**
- `package.json` - название проекта
- `public/manifest.json` - метаданные PWA
- `src/utils/seo.ts` - SEO настройки
- Все файлы в `src/components/emails/`

### Задача 1.2: Замена визуальных элементов
**Действия:**
1. Заменить логотип:
   - `public/logo.png`
   - `public/favicon.ico`
   - `public/apple-touch-icon.png`
   - `src/components/ui/logo.tsx`

2. Обновить цветовую схему:
   ```css
   /* tailwind.config.js */
   // Заменить accent цвета на бизнес-палитру
   // Например: синий → зеленый для роста/успеха
   ```

3. Изменить Open Graph изображения:
   - Создать новые OG images для BizLevel
   - Обновить пути в метаданных

### Задача 1.3: Обновление метаданных
**Файлы для изменения:**
- `robots.txt` - обновить URL sitemap
- `sitemap.xml` - заменить домен
- `src/app/layout.tsx` - метатеги
- `src/app/manifest.ts` - PWA данные

---

## ЭТАП 2: Удаление программистских разделов (1-2 дня)

### Задача 2.1: Отключение Code Playground
**Промпт для Cursor:**
```
В файле src/app/(app)/playground/page.tsx:
1. Закомментируй весь функционал CodePlayground
2. Верни заглушку:
   return (
     <div className="flex items-center justify-center min-h-screen">
       <div className="text-center">
         <h2>Раздел в разработке</h2>
         <p>Эта функция появится в следующих обновлениях</p>
       </div>
     </div>
   )
3. НЕ удаляй импорты и сам файл
```

### Задача 2.2: Скрытие технических разделов в навигации
**Файлы:**
- `src/components/app/navigation/sidebar.tsx`
- `src/components/app/navigation/mobile-nav.tsx`

**Действия:**
```typescript
// Закомментировать или условно скрыть:
// - Code Playground
// - API Documentation  
// - GitHub Integration
// - Technical Study Paths

// Оставить заглушку в массиве навигации:
{
  name: 'Обучение',
  href: '#',
  disabled: true,
  badge: 'Скоро'
}
```

### Задача 2.3: Очистка onboarding вопросов
**Файл:** `src/components/app/onboarding/`

**Изменения:**
- Удалить вопросы про языки программирования
- Заменить на вопросы про бизнес-опыт
- Убрать выбор технического стека

### Задача 2.4: Адаптация типов вопросов
**Промпт для Cursor:**
```
В схеме Prisma и связанных файлах:
1. Сохрани enum QuestionType
2. НЕ удаляй CODING_CHALLENGE тип
3. Просто не создавай новые вопросы этого типа
4. В UI скрывай элементы связанные с кодом (CodeEditor)
```

---

## ЭТАП 3: Настройка Vimeo для вертикальных видео (1 день)

### Задача 3.1: Установка Vimeo плеера
```bash
npm install @vimeo/player
```

### Задача 3.2: Создание компонента вертикального видео
**Промпт для Cursor:**
```
Создай компонент src/components/business/vertical-video-player.tsx:

1. Используй @vimeo/player
2. Соотношение сторон 9:16 (вертикальное)
3. На десктопе: максимальная высота 80vh, центрирование
4. На мобильных: полная ширина экрана
5. Параметры Vimeo:
   - autoplay: false
   - controls: true  
   - playsinline: true
   - responsive: true
6. События:
   - onPlay: показать кнопку "Далее"
   - onEnded: автоматически активировать кнопку
7. Стилизация как в TikTok/Reels
```

### Задача 3.3: Интеграция в Question Display
```typescript
// src/components/questions/question-display.tsx
// Добавить условие для VIDEO типа:
if (question.type === 'VIDEO') {
  return <VerticalVideoPlayer 
    videoId={question.videoUrl} 
    onComplete={handleVideoComplete}
  />
}
```

---

## ЭТАП 4: Очистка и подготовка базы данных (1 день)

### Задача 4.1: Создание миграции для очистки
**Промпт для Cursor:**
```
Создай SQL скрипт scripts/cleanup-techblitz-data.sql:

-- 1. Очистка вопросов
DELETE FROM "Questions" WHERE difficulty IN ('EASY', 'MEDIUM', 'HARD');
DELETE FROM "QuestionAnswers";
DELETE FROM "QuestionTags";
DELETE FROM "Tag";

-- 2. Очистка пользовательских данных
DELETE FROM "Answers";
DELETE FROM "UserBookmarks";
DELETE FROM "Achievement";

-- 3. Сброс счетчиков
UPDATE "Users" SET 
  correctDailyStreak = 0,
  totalDailyStreak = 0,
  userXp = 0,
  weeklyUserXp = 0;

-- 4. НЕ ТРОГАТЬ:
-- Users (аккаунты)
-- Subscriptions (подписки)  
-- Основные системные таблицы
```

### Задача 4.2: Создание seed данных для BizLevel
```typescript
// prisma/seed-bizlevel.ts
const businessQuestions = [
  {
    type: 'VIDEO',
    title: 'Основы бизнес-модели',
    videoUrl: 'vimeo-id-here',
    tags: ['level-1', 'business-basics']
  },
  {
    type: 'MULTIPLE_CHOICE',
    question: 'Что такое целевая аудитория?',
    answers: [...],
    tags: ['level-1', 'test-1']
  }
  // ... остальные вопросы
]
```

---

## ЭТАП 5: Настройка Leo для бизнеса (1 день)

### Задача 5.1: Создание бизнес-промпта
**Файл:** `src/utils/ai/prompts.ts`

```typescript
export const BIZLEVEL_LEO_PROMPT = `
Ты Leo - персональный бизнес-наставник в BizLevel.

Твоя роль:
- Помогать понимать бизнес-концепции простым языком
- Давать практические советы для начинающих предпринимателей  
- Мотивировать и поддерживать учеников
- Использовать примеры из реального бизнеса

Стиль общения:
- Дружелюбный и поддерживающий
- Избегай сложных терминов
- Используй аналогии из повседневной жизни
- Короткие, понятные ответы

СТРОГО ЗАПРЕЩЕНО:
- Любые упоминания программирования
- Технические термины IT
- Примеры кода
- Ссылки на технические ресурсы

Контекст пользователя:
{userProgress}
`
```

### Задача 5.2: Адаптация AI Assistant UI
- Изменить приветствие Leo
- Обновить примеры вопросов
- Добавить бизнес-контекст в подсказки

---

## ЭТАП 6: Создание карты уровней (2 дня)

### Задача 6.1: Структура уровней
```typescript
// src/utils/constants/business-levels.ts
export const businessLevels = [
  {
    id: 1,
    slug: 'business-basics',
    title: 'Основы бизнеса',
    description: 'Изучите фундаментальные концепции',
    videos: 4,
    tests: 8,
    materials: 2,
    free: true
  },
  // ... уровни 2-10
]
```

### Задача 6.2: Адаптация Roadmap компонента
**Важно:** 
- Использовать существующий UI
- Заменить только данные и тексты
- Убрать кнопки AI-генерации

---

## Критические проверки перед запуском

### Чек-лист безопасности:
- [ ] Все API ключи обновлены
- [ ] Email отправитель изменен на BizLevel
- [ ] Stripe продукты созданы отдельно
- [ ] Домен настроен правильно
- [ ] SSL сертификат активен

### Чек-лист функциональности:
- [ ] Регистрация работает
- [ ] Видео воспроизводятся
- [ ] Leo отвечает в бизнес-контексте
- [ ] Навигация между уроками работает
- [ ] Мобильная версия протестирована

### Чек-лист контента:
- [ ] Минимум 3 полных уровня готовы
- [ ] Все видео загружены на Vimeo
- [ ] Тесты проверены на ошибки
- [ ] Материалы для скачивания готовы

---

## Риски и их минимизация

### Технические риски:
- **Сломанные зависимости** → тестировать после каждого этапа
- **Потеря данных** → регулярные бэкапы
- **Проблемы с видео** → иметь YouTube как запасной вариант

### Бизнес риски:
- **Путаница с брендом** → четкое позиционирование
- **Проблемы с платежами** → отдельный Stripe аккаунт
- **Юридические вопросы** → проверить лицензию форка

---

## Итоговая оценка

С полной заменой бренда и удалением программистского функционала проект становится чище и проще в поддержке. Использование Vimeo для вертикальных видео решает проблему с мобильными переходами.

**Реалистичные сроки:**
- Этапы 0-2: 2-3 дня (замена и очистка)
- Этапы 3-4: 2 дня (видео и БД)
- Этапы 5-6: 3 дня (Leo и контент)
- Тестирование: 2-3 дня
- **Итого: 10-12 дней до запуска**

Успех проекта зависит от качества контента и скорости итераций на основе обратной связи первых пользователей.